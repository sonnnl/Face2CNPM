{"ast":null,"code":"import React,{useEffect}from\"react\";import{Routes,Route,Navigate}from\"react-router-dom\";import{useSelector}from\"react-redux\";// Pages\nimport LoginPage from\"./pages/LoginPage\";import RegisterPage from\"./pages/RegisterPage\";import RoleSelectionPage from\"./pages/RoleSelectionPage\";import DashboardPage from\"./pages/DashboardPage\";import FaceRegistrationPage from\"./pages/FaceRegistrationPage\";import GoogleRedirectPage from\"./pages/GoogleRedirectPage\";import PendingApprovalPage from\"./pages/PendingApprovalPage\";import CompleteRegistrationPage from\"./pages/CompleteRegistrationPage\";import ProfilePage from\"./pages/ProfilePage\";// Student Pages\nimport StudentClassesPage from\"./pages/student/ClassesPage\";import StudentAttendancePage from\"./pages/student/AttendancePage\";// Teacher Pages\nimport TeacherClassesPage from\"./pages/teacher/ClassesPage\";import TeacherClassDetailPage from\"./pages/teacher/ClassDetailPage\";import TeacherAttendancePage from\"./pages/teacher/AttendancePage\";import TeacherMainClassPage from\"./pages/teacher/MainClassPage\";// Admin Pages\nimport AdminUsersPage from\"./pages/admin/UsersPage\";import AdminClassesPage from\"./pages/admin/ClassesPage\";import AdminDepartmentsPage from\"./pages/admin/DepartmentsPage\";import AdminFacilitiesPage from\"./pages/admin/FacilitiesPage\";import AdminSemestersPage from\"./pages/admin/SemestersPage\";import AdminSubjectsPage from\"./pages/admin/SubjectsPage\";import TestPage from\"./pages/admin/TestPage\";// Layouts\nimport MainLayout from\"./layouts/MainLayout\";import MinimalLayout from\"./layouts/MinimalLayout\";// Auth check\nimport ProtectedRoute from\"./components/ProtectedRoute\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const{isAuthenticated,user}=useSelector(state=>state.auth);// Hàm kiểm tra vai trò\nconst hasRole=role=>{if(!user)return false;return user.role===role;};return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(MinimalLayout,{}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"register\",element:/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"role-selection\",element:/*#__PURE__*/_jsx(RoleSelectionPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"login/success\",element:/*#__PURE__*/_jsx(GoogleRedirectPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"login/error\",element:/*#__PURE__*/_jsx(GoogleRedirectPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"complete-registration\",element:/*#__PURE__*/_jsx(CompleteRegistrationPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"pending-approval\",element:/*#__PURE__*/_jsx(PendingApprovalPage,{})})]}),/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(MainLayout,{})}),children:[/*#__PURE__*/_jsx(Route,{path:\"dashboard\",element:/*#__PURE__*/_jsx(DashboardPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"profile\",element:/*#__PURE__*/_jsx(ProfilePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"register-face\",element:/*#__PURE__*/_jsx(FaceRegistrationPage,{})}),/*#__PURE__*/_jsxs(Route,{path:\"student\",children:[/*#__PURE__*/_jsx(Route,{path:\"classes\",element:/*#__PURE__*/_jsx(ProtectedRoute,{roles:[\"student\"],children:/*#__PURE__*/_jsx(StudentClassesPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"attendance/:classId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{roles:[\"student\"],children:/*#__PURE__*/_jsx(StudentAttendancePage,{})})})]}),/*#__PURE__*/_jsxs(Route,{path:\"teacher\",children:[/*#__PURE__*/_jsx(Route,{path:\"classes\",element:/*#__PURE__*/_jsx(ProtectedRoute,{roles:[\"teacher\"],children:/*#__PURE__*/_jsx(TeacherClassesPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"classes/:classId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{roles:[\"teacher\"],children:/*#__PURE__*/_jsx(TeacherClassDetailPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"attendance/:sessionId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{roles:[\"teacher\"],children:/*#__PURE__*/_jsx(TeacherAttendancePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"main-class\",element:/*#__PURE__*/_jsx(ProtectedRoute,{roles:[\"teacher\"],children:/*#__PURE__*/_jsx(TeacherMainClassPage,{})})})]}),/*#__PURE__*/_jsxs(Route,{path:\"admin\",children:[/*#__PURE__*/_jsx(Route,{path:\"users\",element:/*#__PURE__*/_jsx(AdminUsersPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"classes\",element:/*#__PURE__*/_jsx(AdminClassesPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"departments\",element:/*#__PURE__*/_jsx(AdminDepartmentsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"semesters\",element:/*#__PURE__*/_jsx(AdminSemestersPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"subjects\",element:/*#__PURE__*/_jsx(AdminSubjectsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"facilities\",element:/*#__PURE__*/_jsx(AdminFacilitiesPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"test\",element:/*#__PURE__*/_jsx(TestPage,{})})]})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})})]});};export default App;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}