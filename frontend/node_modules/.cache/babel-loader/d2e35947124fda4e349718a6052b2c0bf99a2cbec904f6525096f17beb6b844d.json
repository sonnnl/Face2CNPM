{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kasiz\\\\Documents\\\\Studying\\\\FaceReg\\\\frontend\\\\src\\\\pages\\\\FaceRegistrationPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useSnackbar } from \"notistack\";\nimport axios from \"axios\";\nimport { Box, Typography, Paper, Button, Stepper, Step, StepLabel, StepContent, CircularProgress, Alert, Card, CardContent, Grid, Divider, List, ListItem, ListItemIcon, ListItemText, Dialog, DialogTitle, DialogContent, DialogActions } from \"@mui/material\";\nimport { Camera, Check, Face, Info, ViewArray, SaveAlt, Error, CheckCircle, ArrowBack, Help, CameraAlt } from \"@mui/icons-material\";\nimport Webcam from \"react-webcam\";\nimport * as faceapi from \"face-api.js\";\nimport { getCurrentUser } from \"../redux/slices/authSlice\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\nconst FaceRegistrationPage = () => {\n  _s();\n  var _webcamRef$current2, _webcamRef$current2$v;\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    user,\n    token\n  } = useSelector(state => state.auth);\n\n  // Refs\n  const webcamRef = useRef(null);\n  const canvasRef = useRef(null);\n\n  // State\n  const [isLoading, setIsLoading] = useState(false);\n  const [activeStep, setActiveStep] = useState(0);\n  const [modelsLoaded, setModelsLoaded] = useState(false);\n  const [isCameraReady, setIsCameraReady] = useState(false);\n  const [capturedImages, setCapturedImages] = useState([]);\n  const [detectedFace, setDetectedFace] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [showHelpDialog, setShowHelpDialog] = useState(false);\n\n  // Kiểm tra xem user đã đăng ký khuôn mặt chưa\n  useEffect(() => {\n    if (user !== null && user !== void 0 && user.face_registered) {\n      enqueueSnackbar(\"Bạn đã đăng ký khuôn mặt trước đó\", {\n        variant: \"info\"\n      });\n    }\n  }, [user, enqueueSnackbar]);\n\n  // Load các model nhận diện khuôn mặt\n  useEffect(() => {\n    const loadModels = async () => {\n      try {\n        setIsLoading(true);\n        const MODEL_URL = \"/models\";\n        await Promise.all([faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL), faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL), faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL)]);\n        setModelsLoaded(true);\n        enqueueSnackbar(\"Đã tải mô hình nhận diện khuôn mặt\", {\n          variant: \"success\"\n        });\n      } catch (error) {\n        console.error(\"Lỗi khi tải mô hình:\", error);\n        setError(\"Không thể tải mô hình nhận diện khuôn mặt. Vui lòng tải lại trang.\");\n        enqueueSnackbar(\"Lỗi khi tải mô hình nhận diện\", {\n          variant: \"error\"\n        });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadModels();\n  }, [enqueueSnackbar]);\n\n  // Kiểm tra camera đã sẵn sàng chưa\n  useEffect(() => {\n    var _webcamRef$current, _webcamRef$current$vi;\n    if (((_webcamRef$current = webcamRef.current) === null || _webcamRef$current === void 0 ? void 0 : (_webcamRef$current$vi = _webcamRef$current.video) === null || _webcamRef$current$vi === void 0 ? void 0 : _webcamRef$current$vi.readyState) === 4) {\n      setIsCameraReady(true);\n    }\n  }, [(_webcamRef$current2 = webcamRef.current) === null || _webcamRef$current2 === void 0 ? void 0 : (_webcamRef$current2$v = _webcamRef$current2.video) === null || _webcamRef$current2$v === void 0 ? void 0 : _webcamRef$current2$v.readyState]);\n\n  // Xử lý chuyển bước\n  const handleNext = () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };\n\n  // Chụp và phát hiện khuôn mặt\n  const captureImage = async () => {\n    if (!webcamRef.current || !isCameraReady) {\n      enqueueSnackbar(\"Camera chưa sẵn sàng, vui lòng thử lại\", {\n        variant: \"warning\"\n      });\n      return;\n    }\n    try {\n      setIsProcessing(true);\n      // Chụp ảnh\n      const imageSrc = webcamRef.current.getScreenshot();\n      if (!imageSrc) {\n        enqueueSnackbar(\"Không thể chụp ảnh, vui lòng thử lại\", {\n          variant: \"error\"\n        });\n        setIsProcessing(false);\n        return;\n      }\n\n      // Phát hiện khuôn mặt\n      const img = await faceapi.fetchImage(imageSrc);\n      const detections = await faceapi.detectSingleFace(img, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceDescriptor();\n      if (!detections) {\n        enqueueSnackbar(\"Không phát hiện được khuôn mặt, vui lòng thử lại và đảm bảo khuôn mặt của bạn nằm trong khung hình\", {\n          variant: \"warning\"\n        });\n        setIsProcessing(false);\n        return;\n      }\n\n      // Lưu ảnh và thông tin khuôn mặt\n      setDetectedFace(detections);\n      setCapturedImages(prev => [...prev, {\n        img: imageSrc,\n        descriptor: Array.from(detections.descriptor)\n      }]);\n      enqueueSnackbar(`Đã chụp ảnh ${capturedImages.length + 1}/5`, {\n        variant: \"success\"\n      });\n\n      // Nếu đã đủ 5 ảnh thì chuyển bước tiếp theo\n      if (capturedImages.length + 1 >= 5) {\n        handleNext();\n      }\n    } catch (error) {\n      console.error(\"Lỗi khi chụp ảnh:\", error);\n      enqueueSnackbar(\"Đã xảy ra lỗi khi chụp ảnh\", {\n        variant: \"error\"\n      });\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Đăng ký khuôn mặt lên server\n  const registerFace = async () => {\n    try {\n      setIsProcessing(true);\n\n      // Chuẩn bị dữ liệu để gửi lên server\n      const faceData = {\n        descriptors: capturedImages.map(img => img.descriptor),\n        images: capturedImages.map(img => img.img)\n      };\n\n      // Gửi request đăng ký khuôn mặt\n      const response = await axios.post(`${API_URL}/face-recognition/register`, faceData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (response.data.success) {\n        enqueueSnackbar(\"Đăng ký khuôn mặt thành công\", {\n          variant: \"success\"\n        });\n        setSuccess(true);\n        handleNext();\n\n        // Cập nhật thông tin user\n        dispatch(getCurrentUser());\n      } else {\n        setError(\"Không thể đăng ký khuôn mặt. Vui lòng thử lại.\");\n        enqueueSnackbar(\"Đăng ký khuôn mặt thất bại\", {\n          variant: \"error\"\n        });\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Lỗi khi đăng ký khuôn mặt:\", error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Không thể đăng ký khuôn mặt. Vui lòng thử lại.\");\n      enqueueSnackbar(\"Đăng ký khuôn mặt thất bại\", {\n        variant: \"error\"\n      });\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Reset lại quá trình\n  const handleReset = () => {\n    setCapturedImages([]);\n    setDetectedFace(null);\n    setActiveStep(0);\n    setError(\"\");\n    setSuccess(false);\n  };\n\n  // Quay lại trang danh sách lớp\n  const navigateToClasses = () => {\n    navigate(\"/student/classes\");\n  };\n\n  // Các bước đăng ký khuôn mặt\n  const steps = [{\n    label: \"Chuẩn bị\",\n    description: \"Chuẩn bị camera và kiểm tra kết nối\",\n    content: /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"info\",\n        sx: {\n          mb: 2\n        },\n        children: \"Vui l\\xF2ng \\u0111\\u1EA3m b\\u1EA3o b\\u1EA1n \\u0111ang \\u1EDF trong m\\xF4i tr\\u01B0\\u1EDDng c\\xF3 \\xE1nh s\\xE1ng t\\u1ED1t v\\xE0 camera ho\\u1EA1t \\u0111\\u1ED9ng b\\xECnh th\\u01B0\\u1EDDng.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"H\\u01B0\\u1EDBng d\\u1EABn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                sx: {\n                  my: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(List, {\n                dense: true,\n                children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                    children: /*#__PURE__*/_jsxDEV(Info, {\n                      fontSize: \"small\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                    primary: \"\\u0110\\u1EE9ng \\u1EDF n\\u01A1i c\\xF3 \\xE1nh s\\xE1ng t\\u1ED1t, nh\\xECn th\\u1EB3ng v\\xE0o camera\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                    children: /*#__PURE__*/_jsxDEV(Info, {\n                      fontSize: \"small\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                    primary: \"Kh\\xF4ng \\u0111eo k\\xEDnh, m\\u0169 ho\\u1EB7c kh\\u1EA9u trang khi \\u0111\\u0103ng k\\xFD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                    children: /*#__PURE__*/_jsxDEV(Info, {\n                      fontSize: \"small\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                    primary: \"Gi\\u1EEF khu\\xF4n m\\u1EB7t chi\\u1EBFm kho\\u1EA3ng 70% khung h\\xECnh\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                    children: /*#__PURE__*/_jsxDEV(Info, {\n                      fontSize: \"small\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                    primary: \"B\\u1EA1n s\\u1EBD c\\u1EA7n ch\\u1EE5p 5 \\u1EA3nh \\u1EDF c\\xE1c g\\xF3c \\u0111\\u1ED9 kh\\xE1c nhau\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Tr\\u1EA1ng th\\xE1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                sx: {\n                  my: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(List, {\n                children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                    children: modelsLoaded ? /*#__PURE__*/_jsxDEV(Check, {\n                      color: \"success\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(CircularProgress, {\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                    primary: \"T\\u1EA3i m\\xF4 h\\xECnh nh\\u1EADn di\\u1EC7n\",\n                    secondary: modelsLoaded ? \"Đã tải xong\" : \"Đang tải, vui lòng đợi...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                    children: isCameraReady ? /*#__PURE__*/_jsxDEV(Check, {\n                      color: \"success\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(CircularProgress, {\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                    primary: \"Ki\\u1EC3m tra camera\",\n                    secondary: isCameraReady ? \"Camera đã sẵn sàng\" : \"Đang kết nối với camera...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2,\n          textAlign: \"right\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: () => setShowHelpDialog(true),\n          sx: {\n            mr: 1\n          },\n          children: \"Xem h\\u01B0\\u1EDBng d\\u1EABn chi ti\\u1EBFt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: handleNext,\n          disabled: !modelsLoaded || !isCameraReady,\n          children: \"Ti\\u1EBFp t\\u1EE5c\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }, this)\n  }, {\n    label: \"Chụp ảnh khuôn mặt\",\n    description: \"Chụp 5 ảnh khuôn mặt để đăng ký\",\n    content: /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"info\",\n        sx: {\n          mb: 2\n        },\n        children: \"Vui l\\xF2ng ch\\u1EE5p 5 \\u1EA3nh khu\\xF4n m\\u1EB7t \\u1EDF c\\xE1c g\\xF3c \\u0111\\u1ED9 kh\\xE1c nhau (nh\\xECn th\\u1EB3ng, nghi\\xEAng tr\\xE1i, nghi\\xEAng ph\\u1EA3i, h\\u01A1i ng\\u01B0\\u1EDBc l\\xEAn, h\\u01A1i c\\xFAi xu\\u1ED1ng).\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 8,\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              position: \"relative\",\n              width: \"100%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Webcam, {\n              audio: false,\n              ref: webcamRef,\n              screenshotFormat: \"image/jpeg\",\n              videoConstraints: {\n                width: 640,\n                height: 480,\n                facingMode: \"user\"\n              },\n              style: {\n                width: \"100%\",\n                borderRadius: \"8px\",\n                border: \"1px solid #ddd\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n              ref: canvasRef,\n              style: {\n                position: \"absolute\",\n                top: 0,\n                left: 0,\n                zIndex: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 2,\n              textAlign: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              startIcon: /*#__PURE__*/_jsxDEV(CameraAlt, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 30\n              }, this),\n              onClick: captureImage,\n              disabled: !isCameraReady || isProcessing || capturedImages.length >= 5,\n              children: isProcessing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n                  size: 24,\n                  sx: {\n                    mr: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 23\n                }, this), \"\\u0110ang x\\u1EED l\\xFD...\"]\n              }, void 0, true) : \"Chụp ảnh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: [\"\\u1EA2nh \\u0111\\xE3 ch\\u1EE5p (\", capturedImages.length, \"/5)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                sx: {\n                  my: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  gap: 1,\n                  maxHeight: 320,\n                  overflow: \"auto\"\n                },\n                children: capturedImages.length > 0 ? capturedImages.map((img, index) => /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    border: \"1px solid #ddd\",\n                    borderRadius: \"4px\",\n                    overflow: \"hidden\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: img.img,\n                    alt: `Ảnh ${index + 1}`,\n                    style: {\n                      width: \"100%\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 27\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 25\n                }, this)) : /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  sx: {\n                    textAlign: \"center\",\n                    py: 2\n                  },\n                  children: \"Ch\\u01B0a c\\xF3 \\u1EA3nh n\\xE0o\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2,\n          display: \"flex\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleBack,\n          children: \"Quay l\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: handleNext,\n          disabled: capturedImages.length < 5,\n          children: \"Ti\\u1EBFp t\\u1EE5c\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 9\n    }, this)\n  }, {\n    label: \"Xác nhận và hoàn tất\",\n    description: \"Xác nhận thông tin và hoàn tất đăng ký\",\n    content: /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"info\",\n        sx: {\n          mb: 2\n        },\n        children: \"Vui l\\xF2ng xem l\\u1EA1i th\\xF4ng tin v\\xE0 \\u1EA3nh \\u0111\\xE3 ch\\u1EE5p tr\\u01B0\\u1EDBc khi ho\\xE0n t\\u1EA5t \\u0111\\u0103ng k\\xFD.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Th\\xF4ng tin \\u0111\\u0103ng k\\xFD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                sx: {\n                  my: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(List, {\n                children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                    children: /*#__PURE__*/_jsxDEV(Person, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 500,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                    primary: \"H\\u1ECD v\\xE0 t\\xEAn\",\n                    secondary: (user === null || user === void 0 ? void 0 : user.full_name) || \"N/A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 502,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                    children: /*#__PURE__*/_jsxDEV(Face, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 509,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 508,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                    primary: \"S\\u1ED1 \\u1EA3nh \\u0111\\xE3 ch\\u1EE5p\",\n                    secondary: `${capturedImages.length} ảnh`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Xem tr\\u01B0\\u1EDBc \\u1EA3nh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                sx: {\n                  my: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: \"grid\",\n                  gridTemplateColumns: \"repeat(auto-fill, minmax(120px, 1fr))\",\n                  gap: 1\n                },\n                children: capturedImages.map((img, index) => /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    border: \"1px solid #ddd\",\n                    borderRadius: \"4px\",\n                    overflow: \"hidden\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: img.img,\n                    alt: `Ảnh ${index + 1}`,\n                    style: {\n                      width: \"100%\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 544,\n                    columnNumber: 25\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mt: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2,\n          display: \"flex\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleBack,\n          children: \"Quay l\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: registerFace,\n          disabled: isProcessing || capturedImages.length < 5,\n          startIcon: isProcessing ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 32\n          }, this) : /*#__PURE__*/_jsxDEV(SaveAlt, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 65\n          }, this),\n          children: isProcessing ? \"Đang xử lý...\" : \"Hoàn tất đăng ký\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 9\n    }, this)\n  }, {\n    label: \"Hoàn thành\",\n    description: \"Đăng ký khuôn mặt thành công\",\n    content: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        textAlign: \"center\",\n        py: 3\n      },\n      children: success ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          color: \"success\",\n          sx: {\n            fontSize: 64,\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          children: \"\\u0110\\u0103ng k\\xFD khu\\xF4n m\\u1EB7t th\\xE0nh c\\xF4ng!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          paragraph: true,\n          children: \"T\\u1EEB gi\\u1EDD b\\u1EA1n c\\xF3 th\\u1EC3 s\\u1EED d\\u1EE5ng t\\xEDnh n\\u0103ng \\u0111i\\u1EC3m danh b\\u1EB1ng khu\\xF4n m\\u1EB7t.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: navigateToClasses,\n          sx: {\n            mt: 2\n          },\n          children: \"Quay l\\u1EA1i danh s\\xE1ch l\\u1EDBp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Error, {\n          color: \"error\",\n          sx: {\n            fontSize: 64,\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          children: \"\\u0110\\xE3 x\\u1EA3y ra l\\u1ED7i!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          paragraph: true,\n          children: error || \"Không thể đăng ký khuôn mặt. Vui lòng thử lại.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleReset,\n          sx: {\n            mt: 2\n          },\n          children: \"Th\\u1EED l\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 9\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      padding: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        startIcon: /*#__PURE__*/_jsxDEV(ArrowBack, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 22\n        }, this),\n        onClick: () => navigate(\"/student/classes\"),\n        sx: {\n          mb: 2\n        },\n        children: \"Quay l\\u1EA1i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        children: \"\\u0110\\u0103ng k\\xFD khu\\xF4n m\\u1EB7t\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        color: \"text.secondary\",\n        children: \"\\u0110\\u0103ng k\\xFD khu\\xF4n m\\u1EB7t c\\u1EE7a b\\u1EA1n \\u0111\\u1EC3 s\\u1EED d\\u1EE5ng t\\xEDnh n\\u0103ng \\u0111i\\u1EC3m danh t\\u1EF1 \\u0111\\u1ED9ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: {\n          xs: 2,\n          md: 3\n        },\n        maxWidth: 1200,\n        mx: \"auto\",\n        overflow: \"hidden\"\n      },\n      children: isLoading ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          py: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          sx: {\n            ml: 2\n          },\n          children: \"\\u0110ang t\\u1EA3i...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 662,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Stepper, {\n        activeStep: activeStep,\n        orientation: \"vertical\",\n        children: steps.map((step, index) => /*#__PURE__*/_jsxDEV(Step, {\n          children: [/*#__PURE__*/_jsxDEV(StepLabel, {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              children: step.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 671,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(StepContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mb: 2\n              },\n              children: step.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 19\n            }, this), step.content]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 17\n          }, this)]\n        }, step.label, true, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 667,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 644,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showHelpDialog,\n      onClose: () => setShowHelpDialog(false),\n      maxWidth: \"md\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"H\\u01B0\\u1EDBng d\\u1EABn \\u0111\\u0103ng k\\xFD khu\\xF4n m\\u1EB7t chi ti\\u1EBFt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 696,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"C\\xE1c b\\u01B0\\u1EDBc \\u0111\\u0103ng k\\xFD khu\\xF4n m\\u1EB7t:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(List, {\n          children: [/*#__PURE__*/_jsxDEV(ListItem, {\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(Check, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 704,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 703,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"B\\u01B0\\u1EDBc 1: Chu\\u1EA9n b\\u1ECB\",\n              secondary: \"\\u0110\\u1EA3m b\\u1EA3o b\\u1EA1n \\u0111ang \\u1EDF n\\u01A1i c\\xF3 \\xE1nh s\\xE1ng t\\u1ED1t v\\xE0 camera ho\\u1EA1t \\u0111\\u1ED9ng b\\xECnh th\\u01B0\\u1EDDng.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(Camera, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 713,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"B\\u01B0\\u1EDBc 2: Ch\\u1EE5p \\u1EA3nh khu\\xF4n m\\u1EB7t\",\n              secondary: \"Ch\\u1EE5p 5 \\u1EA3nh khu\\xF4n m\\u1EB7t \\u1EDF c\\xE1c g\\xF3c \\u0111\\u1ED9 kh\\xE1c nhau.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(ViewArray, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 722,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 721,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"B\\u01B0\\u1EDBc 3: X\\xE1c nh\\u1EADn th\\xF4ng tin\",\n              secondary: \"Xem l\\u1EA1i th\\xF4ng tin v\\xE0 \\u1EA3nh \\u0111\\xE3 ch\\u1EE5p.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 720,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(SaveAlt, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 731,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"B\\u01B0\\u1EDBc 4: Ho\\xE0n t\\u1EA5t \\u0111\\u0103ng k\\xFD\",\n              secondary: \"Ho\\xE0n t\\u1EA5t qu\\xE1 tr\\xECnh \\u0111\\u0103ng k\\xFD khu\\xF4n m\\u1EB7t.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 733,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          sx: {\n            mt: 2\n          },\n          children: \"L\\u01B0u \\xFD khi ch\\u1EE5p \\u1EA3nh:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 740,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(List, {\n          children: [/*#__PURE__*/_jsxDEV(ListItem, {\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(Info, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 746,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 745,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"\\xC1nh s\\xE1ng\",\n              secondary: \"\\u0110\\u1EA3m b\\u1EA3o khu\\xF4n m\\u1EB7t \\u0111\\u01B0\\u1EE3c chi\\u1EBFu s\\xE1ng t\\u1ED1t, tr\\xE1nh ng\\u01B0\\u1EE3c s\\xE1ng.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 748,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(Info, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 755,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 754,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"G\\xF3c \\u0111\\u1ED9\",\n              secondary: \"Ch\\u1EE5p \\u1EDF c\\xE1c g\\xF3c \\u0111\\u1ED9 kh\\xE1c nhau: nh\\xECn th\\u1EB3ng, nghi\\xEAng tr\\xE1i, nghi\\xEAng ph\\u1EA3i, h\\u01A1i ng\\u01B0\\u1EDBc l\\xEAn, h\\u01A1i c\\xFAi xu\\u1ED1ng.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 757,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 753,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(Info, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 764,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 763,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"Ph\\u1EE5 ki\\u1EC7n\",\n              secondary: \"Kh\\xF4ng \\u0111eo k\\xEDnh, m\\u0169, kh\\u1EA9u trang ho\\u1EB7c b\\u1EA5t k\\u1EF3 v\\u1EADt che khu\\xF4n m\\u1EB7t n\\xE0o.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 766,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 762,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(Info, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 773,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 772,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"Kho\\u1EA3ng c\\xE1ch\",\n              secondary: \"Gi\\u1EEF khu\\xF4n m\\u1EB7t \\u1EDF kho\\u1EA3ng c\\xE1ch v\\u1EEBa ph\\u1EA3i, chi\\u1EBFm kho\\u1EA3ng 70% khung h\\xECnh.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 775,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 771,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 697,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setShowHelpDialog(false),\n          children: \"\\u0110\\xF3ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 783,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 782,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 690,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 626,\n    columnNumber: 5\n  }, this);\n};\n_s(FaceRegistrationPage, \"l/l253rf3/gxLguDu2gVH2MM6cI=\", false, function () {\n  return [useNavigate, useDispatch, useSnackbar, useSelector];\n});\n_c = FaceRegistrationPage;\nexport default FaceRegistrationPage;\nvar _c;\n$RefreshReg$(_c, \"FaceRegistrationPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useSelector","useDispatch","useSnackbar","axios","Box","Typography","Paper","Button","Stepper","Step","StepLabel","StepContent","CircularProgress","Alert","Card","CardContent","Grid","Divider","List","ListItem","ListItemIcon","ListItemText","Dialog","DialogTitle","DialogContent","DialogActions","Camera","Check","Face","Info","ViewArray","SaveAlt","Error","CheckCircle","ArrowBack","Help","CameraAlt","Webcam","faceapi","getCurrentUser","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","process","env","REACT_APP_API_URL","FaceRegistrationPage","_s","_webcamRef$current2","_webcamRef$current2$v","navigate","dispatch","enqueueSnackbar","user","token","state","auth","webcamRef","canvasRef","isLoading","setIsLoading","activeStep","setActiveStep","modelsLoaded","setModelsLoaded","isCameraReady","setIsCameraReady","capturedImages","setCapturedImages","detectedFace","setDetectedFace","isProcessing","setIsProcessing","success","setSuccess","error","setError","showHelpDialog","setShowHelpDialog","face_registered","variant","loadModels","MODEL_URL","Promise","all","nets","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceRecognitionNet","console","_webcamRef$current","_webcamRef$current$vi","current","video","readyState","handleNext","prevActiveStep","handleBack","captureImage","imageSrc","getScreenshot","img","fetchImage","detections","detectSingleFace","TinyFaceDetectorOptions","withFaceLandmarks","withFaceDescriptor","prev","descriptor","Array","from","length","registerFace","faceData","descriptors","map","images","response","post","headers","Authorization","data","_error$response","_error$response$data","message","handleReset","navigateToClasses","steps","label","description","content","children","severity","sx","mb","fileName","_jsxFileName","lineNumber","columnNumber","container","spacing","item","xs","md","gutterBottom","my","dense","fontSize","primary","color","size","secondary","mt","textAlign","onClick","mr","disabled","position","width","audio","ref","screenshotFormat","videoConstraints","height","facingMode","style","borderRadius","border","top","left","zIndex","startIcon","display","flexDirection","gap","maxHeight","overflow","index","src","alt","py","justifyContent","Person","full_name","gridTemplateColumns","paragraph","padding","p","maxWidth","mx","alignItems","ml","orientation","step","open","onClose","fullWidth","_c","$RefreshReg$"],"sources":["C:/Users/kasiz/Documents/Studying/FaceReg/frontend/src/pages/FaceRegistrationPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  Button,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  StepContent,\r\n  CircularProgress,\r\n  Alert,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n} from \"@mui/material\";\r\nimport {\r\n  Camera,\r\n  Check,\r\n  Face,\r\n  Info,\r\n  ViewArray,\r\n  SaveAlt,\r\n  Error,\r\n  CheckCircle,\r\n  ArrowBack,\r\n  Help,\r\n  CameraAlt,\r\n} from \"@mui/icons-material\";\r\nimport Webcam from \"react-webcam\";\r\nimport * as faceapi from \"face-api.js\";\r\nimport { getCurrentUser } from \"../redux/slices/authSlice\";\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\r\n\r\nconst FaceRegistrationPage = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const { user, token } = useSelector((state) => state.auth);\r\n\r\n  // Refs\r\n  const webcamRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n\r\n  // State\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [modelsLoaded, setModelsLoaded] = useState(false);\r\n  const [isCameraReady, setIsCameraReady] = useState(false);\r\n  const [capturedImages, setCapturedImages] = useState([]);\r\n  const [detectedFace, setDetectedFace] = useState(null);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [showHelpDialog, setShowHelpDialog] = useState(false);\r\n\r\n  // Kiểm tra xem user đã đăng ký khuôn mặt chưa\r\n  useEffect(() => {\r\n    if (user?.face_registered) {\r\n      enqueueSnackbar(\"Bạn đã đăng ký khuôn mặt trước đó\", {\r\n        variant: \"info\",\r\n      });\r\n    }\r\n  }, [user, enqueueSnackbar]);\r\n\r\n  // Load các model nhận diện khuôn mặt\r\n  useEffect(() => {\r\n    const loadModels = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const MODEL_URL = \"/models\";\r\n\r\n        await Promise.all([\r\n          faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL),\r\n          faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL),\r\n          faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL),\r\n        ]);\r\n\r\n        setModelsLoaded(true);\r\n        enqueueSnackbar(\"Đã tải mô hình nhận diện khuôn mặt\", {\r\n          variant: \"success\",\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Lỗi khi tải mô hình:\", error);\r\n        setError(\r\n          \"Không thể tải mô hình nhận diện khuôn mặt. Vui lòng tải lại trang.\"\r\n        );\r\n        enqueueSnackbar(\"Lỗi khi tải mô hình nhận diện\", { variant: \"error\" });\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    loadModels();\r\n  }, [enqueueSnackbar]);\r\n\r\n  // Kiểm tra camera đã sẵn sàng chưa\r\n  useEffect(() => {\r\n    if (webcamRef.current?.video?.readyState === 4) {\r\n      setIsCameraReady(true);\r\n    }\r\n  }, [webcamRef.current?.video?.readyState]);\r\n\r\n  // Xử lý chuyển bước\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  // Chụp và phát hiện khuôn mặt\r\n  const captureImage = async () => {\r\n    if (!webcamRef.current || !isCameraReady) {\r\n      enqueueSnackbar(\"Camera chưa sẵn sàng, vui lòng thử lại\", {\r\n        variant: \"warning\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsProcessing(true);\r\n      // Chụp ảnh\r\n      const imageSrc = webcamRef.current.getScreenshot();\r\n      if (!imageSrc) {\r\n        enqueueSnackbar(\"Không thể chụp ảnh, vui lòng thử lại\", {\r\n          variant: \"error\",\r\n        });\r\n        setIsProcessing(false);\r\n        return;\r\n      }\r\n\r\n      // Phát hiện khuôn mặt\r\n      const img = await faceapi.fetchImage(imageSrc);\r\n      const detections = await faceapi\r\n        .detectSingleFace(img, new faceapi.TinyFaceDetectorOptions())\r\n        .withFaceLandmarks()\r\n        .withFaceDescriptor();\r\n\r\n      if (!detections) {\r\n        enqueueSnackbar(\r\n          \"Không phát hiện được khuôn mặt, vui lòng thử lại và đảm bảo khuôn mặt của bạn nằm trong khung hình\",\r\n          { variant: \"warning\" }\r\n        );\r\n        setIsProcessing(false);\r\n        return;\r\n      }\r\n\r\n      // Lưu ảnh và thông tin khuôn mặt\r\n      setDetectedFace(detections);\r\n      setCapturedImages((prev) => [\r\n        ...prev,\r\n        { img: imageSrc, descriptor: Array.from(detections.descriptor) },\r\n      ]);\r\n\r\n      enqueueSnackbar(`Đã chụp ảnh ${capturedImages.length + 1}/5`, {\r\n        variant: \"success\",\r\n      });\r\n\r\n      // Nếu đã đủ 5 ảnh thì chuyển bước tiếp theo\r\n      if (capturedImages.length + 1 >= 5) {\r\n        handleNext();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Lỗi khi chụp ảnh:\", error);\r\n      enqueueSnackbar(\"Đã xảy ra lỗi khi chụp ảnh\", { variant: \"error\" });\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  // Đăng ký khuôn mặt lên server\r\n  const registerFace = async () => {\r\n    try {\r\n      setIsProcessing(true);\r\n\r\n      // Chuẩn bị dữ liệu để gửi lên server\r\n      const faceData = {\r\n        descriptors: capturedImages.map((img) => img.descriptor),\r\n        images: capturedImages.map((img) => img.img),\r\n      };\r\n\r\n      // Gửi request đăng ký khuôn mặt\r\n      const response = await axios.post(\r\n        `${API_URL}/face-recognition/register`,\r\n        faceData,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      if (response.data.success) {\r\n        enqueueSnackbar(\"Đăng ký khuôn mặt thành công\", {\r\n          variant: \"success\",\r\n        });\r\n        setSuccess(true);\r\n        handleNext();\r\n\r\n        // Cập nhật thông tin user\r\n        dispatch(getCurrentUser());\r\n      } else {\r\n        setError(\"Không thể đăng ký khuôn mặt. Vui lòng thử lại.\");\r\n        enqueueSnackbar(\"Đăng ký khuôn mặt thất bại\", { variant: \"error\" });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Lỗi khi đăng ký khuôn mặt:\", error);\r\n      setError(\r\n        error.response?.data?.message ||\r\n          \"Không thể đăng ký khuôn mặt. Vui lòng thử lại.\"\r\n      );\r\n      enqueueSnackbar(\"Đăng ký khuôn mặt thất bại\", { variant: \"error\" });\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  // Reset lại quá trình\r\n  const handleReset = () => {\r\n    setCapturedImages([]);\r\n    setDetectedFace(null);\r\n    setActiveStep(0);\r\n    setError(\"\");\r\n    setSuccess(false);\r\n  };\r\n\r\n  // Quay lại trang danh sách lớp\r\n  const navigateToClasses = () => {\r\n    navigate(\"/student/classes\");\r\n  };\r\n\r\n  // Các bước đăng ký khuôn mặt\r\n  const steps = [\r\n    {\r\n      label: \"Chuẩn bị\",\r\n      description: \"Chuẩn bị camera và kiểm tra kết nối\",\r\n      content: (\r\n        <Box>\r\n          <Alert severity=\"info\" sx={{ mb: 2 }}>\r\n            Vui lòng đảm bảo bạn đang ở trong môi trường có ánh sáng tốt và\r\n            camera hoạt động bình thường.\r\n          </Alert>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} md={6}>\r\n              <Card>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Hướng dẫn\r\n                  </Typography>\r\n                  <Divider sx={{ my: 1 }} />\r\n                  <List dense>\r\n                    <ListItem>\r\n                      <ListItemIcon>\r\n                        <Info fontSize=\"small\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Đứng ở nơi có ánh sáng tốt, nhìn thẳng vào camera\" />\r\n                    </ListItem>\r\n                    <ListItem>\r\n                      <ListItemIcon>\r\n                        <Info fontSize=\"small\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Không đeo kính, mũ hoặc khẩu trang khi đăng ký\" />\r\n                    </ListItem>\r\n                    <ListItem>\r\n                      <ListItemIcon>\r\n                        <Info fontSize=\"small\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Giữ khuôn mặt chiếm khoảng 70% khung hình\" />\r\n                    </ListItem>\r\n                    <ListItem>\r\n                      <ListItemIcon>\r\n                        <Info fontSize=\"small\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Bạn sẽ cần chụp 5 ảnh ở các góc độ khác nhau\" />\r\n                    </ListItem>\r\n                  </List>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <Card>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Trạng thái\r\n                  </Typography>\r\n                  <Divider sx={{ my: 1 }} />\r\n                  <List>\r\n                    <ListItem>\r\n                      <ListItemIcon>\r\n                        {modelsLoaded ? (\r\n                          <Check color=\"success\" />\r\n                        ) : (\r\n                          <CircularProgress size={20} />\r\n                        )}\r\n                      </ListItemIcon>\r\n                      <ListItemText\r\n                        primary=\"Tải mô hình nhận diện\"\r\n                        secondary={\r\n                          modelsLoaded\r\n                            ? \"Đã tải xong\"\r\n                            : \"Đang tải, vui lòng đợi...\"\r\n                        }\r\n                      />\r\n                    </ListItem>\r\n                    <ListItem>\r\n                      <ListItemIcon>\r\n                        {isCameraReady ? (\r\n                          <Check color=\"success\" />\r\n                        ) : (\r\n                          <CircularProgress size={20} />\r\n                        )}\r\n                      </ListItemIcon>\r\n                      <ListItemText\r\n                        primary=\"Kiểm tra camera\"\r\n                        secondary={\r\n                          isCameraReady\r\n                            ? \"Camera đã sẵn sàng\"\r\n                            : \"Đang kết nối với camera...\"\r\n                        }\r\n                      />\r\n                    </ListItem>\r\n                  </List>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          </Grid>\r\n          <Box sx={{ mt: 2, textAlign: \"right\" }}>\r\n            <Button\r\n              variant=\"outlined\"\r\n              onClick={() => setShowHelpDialog(true)}\r\n              sx={{ mr: 1 }}\r\n            >\r\n              Xem hướng dẫn chi tiết\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={handleNext}\r\n              disabled={!modelsLoaded || !isCameraReady}\r\n            >\r\n              Tiếp tục\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      ),\r\n    },\r\n    {\r\n      label: \"Chụp ảnh khuôn mặt\",\r\n      description: \"Chụp 5 ảnh khuôn mặt để đăng ký\",\r\n      content: (\r\n        <Box>\r\n          <Alert severity=\"info\" sx={{ mb: 2 }}>\r\n            Vui lòng chụp 5 ảnh khuôn mặt ở các góc độ khác nhau (nhìn thẳng,\r\n            nghiêng trái, nghiêng phải, hơi ngước lên, hơi cúi xuống).\r\n          </Alert>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} md={8}>\r\n              <Box sx={{ position: \"relative\", width: \"100%\" }}>\r\n                <Webcam\r\n                  audio={false}\r\n                  ref={webcamRef}\r\n                  screenshotFormat=\"image/jpeg\"\r\n                  videoConstraints={{\r\n                    width: 640,\r\n                    height: 480,\r\n                    facingMode: \"user\",\r\n                  }}\r\n                  style={{\r\n                    width: \"100%\",\r\n                    borderRadius: \"8px\",\r\n                    border: \"1px solid #ddd\",\r\n                  }}\r\n                />\r\n                <canvas\r\n                  ref={canvasRef}\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    zIndex: 1,\r\n                  }}\r\n                />\r\n              </Box>\r\n              <Box sx={{ mt: 2, textAlign: \"center\" }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  startIcon={<CameraAlt />}\r\n                  onClick={captureImage}\r\n                  disabled={\r\n                    !isCameraReady || isProcessing || capturedImages.length >= 5\r\n                  }\r\n                >\r\n                  {isProcessing ? (\r\n                    <>\r\n                      <CircularProgress size={24} sx={{ mr: 1 }} />\r\n                      Đang xử lý...\r\n                    </>\r\n                  ) : (\r\n                    \"Chụp ảnh\"\r\n                  )}\r\n                </Button>\r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs={12} md={4}>\r\n              <Card>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Ảnh đã chụp ({capturedImages.length}/5)\r\n                  </Typography>\r\n                  <Divider sx={{ my: 1 }} />\r\n                  <Box\r\n                    sx={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                      gap: 1,\r\n                      maxHeight: 320,\r\n                      overflow: \"auto\",\r\n                    }}\r\n                  >\r\n                    {capturedImages.length > 0 ? (\r\n                      capturedImages.map((img, index) => (\r\n                        <Box\r\n                          key={index}\r\n                          sx={{\r\n                            border: \"1px solid #ddd\",\r\n                            borderRadius: \"4px\",\r\n                            overflow: \"hidden\",\r\n                          }}\r\n                        >\r\n                          <img\r\n                            src={img.img}\r\n                            alt={`Ảnh ${index + 1}`}\r\n                            style={{ width: \"100%\" }}\r\n                          />\r\n                        </Box>\r\n                      ))\r\n                    ) : (\r\n                      <Typography\r\n                        variant=\"body2\"\r\n                        sx={{ textAlign: \"center\", py: 2 }}\r\n                      >\r\n                        Chưa có ảnh nào\r\n                      </Typography>\r\n                    )}\r\n                  </Box>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          </Grid>\r\n          <Box sx={{ mt: 2, display: \"flex\", justifyContent: \"space-between\" }}>\r\n            <Button onClick={handleBack}>Quay lại</Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={handleNext}\r\n              disabled={capturedImages.length < 5}\r\n            >\r\n              Tiếp tục\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      ),\r\n    },\r\n    {\r\n      label: \"Xác nhận và hoàn tất\",\r\n      description: \"Xác nhận thông tin và hoàn tất đăng ký\",\r\n      content: (\r\n        <Box>\r\n          <Alert severity=\"info\" sx={{ mb: 2 }}>\r\n            Vui lòng xem lại thông tin và ảnh đã chụp trước khi hoàn tất đăng\r\n            ký.\r\n          </Alert>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} md={6}>\r\n              <Card>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Thông tin đăng ký\r\n                  </Typography>\r\n                  <Divider sx={{ my: 1 }} />\r\n                  <List>\r\n                    <ListItem>\r\n                      <ListItemIcon>\r\n                        <Person />\r\n                      </ListItemIcon>\r\n                      <ListItemText\r\n                        primary=\"Họ và tên\"\r\n                        secondary={user?.full_name || \"N/A\"}\r\n                      />\r\n                    </ListItem>\r\n                    <ListItem>\r\n                      <ListItemIcon>\r\n                        <Face />\r\n                      </ListItemIcon>\r\n                      <ListItemText\r\n                        primary=\"Số ảnh đã chụp\"\r\n                        secondary={`${capturedImages.length} ảnh`}\r\n                      />\r\n                    </ListItem>\r\n                  </List>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <Card>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Xem trước ảnh\r\n                  </Typography>\r\n                  <Divider sx={{ my: 1 }} />\r\n                  <Box\r\n                    sx={{\r\n                      display: \"grid\",\r\n                      gridTemplateColumns:\r\n                        \"repeat(auto-fill, minmax(120px, 1fr))\",\r\n                      gap: 1,\r\n                    }}\r\n                  >\r\n                    {capturedImages.map((img, index) => (\r\n                      <Box\r\n                        key={index}\r\n                        sx={{\r\n                          border: \"1px solid #ddd\",\r\n                          borderRadius: \"4px\",\r\n                          overflow: \"hidden\",\r\n                        }}\r\n                      >\r\n                        <img\r\n                          src={img.img}\r\n                          alt={`Ảnh ${index + 1}`}\r\n                          style={{ width: \"100%\" }}\r\n                        />\r\n                      </Box>\r\n                    ))}\r\n                  </Box>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          </Grid>\r\n          {error && (\r\n            <Alert severity=\"error\" sx={{ mt: 2 }}>\r\n              {error}\r\n            </Alert>\r\n          )}\r\n          <Box sx={{ mt: 2, display: \"flex\", justifyContent: \"space-between\" }}>\r\n            <Button onClick={handleBack}>Quay lại</Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={registerFace}\r\n              disabled={isProcessing || capturedImages.length < 5}\r\n              startIcon={\r\n                isProcessing ? <CircularProgress size={20} /> : <SaveAlt />\r\n              }\r\n            >\r\n              {isProcessing ? \"Đang xử lý...\" : \"Hoàn tất đăng ký\"}\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      ),\r\n    },\r\n    {\r\n      label: \"Hoàn thành\",\r\n      description: \"Đăng ký khuôn mặt thành công\",\r\n      content: (\r\n        <Box sx={{ textAlign: \"center\", py: 3 }}>\r\n          {success ? (\r\n            <>\r\n              <CheckCircle color=\"success\" sx={{ fontSize: 64, mb: 2 }} />\r\n              <Typography variant=\"h5\" gutterBottom>\r\n                Đăng ký khuôn mặt thành công!\r\n              </Typography>\r\n              <Typography variant=\"body1\" paragraph>\r\n                Từ giờ bạn có thể sử dụng tính năng điểm danh bằng khuôn mặt.\r\n              </Typography>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={navigateToClasses}\r\n                sx={{ mt: 2 }}\r\n              >\r\n                Quay lại danh sách lớp\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Error color=\"error\" sx={{ fontSize: 64, mb: 2 }} />\r\n              <Typography variant=\"h5\" gutterBottom>\r\n                Đã xảy ra lỗi!\r\n              </Typography>\r\n              <Typography variant=\"body1\" paragraph>\r\n                {error || \"Không thể đăng ký khuôn mặt. Vui lòng thử lại.\"}\r\n              </Typography>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleReset}\r\n                sx={{ mt: 2 }}\r\n              >\r\n                Thử lại\r\n              </Button>\r\n            </>\r\n          )}\r\n        </Box>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Box sx={{ padding: 3 }}>\r\n      <Box sx={{ mb: 3 }}>\r\n        <Button\r\n          variant=\"outlined\"\r\n          startIcon={<ArrowBack />}\r\n          onClick={() => navigate(\"/student/classes\")}\r\n          sx={{ mb: 2 }}\r\n        >\r\n          Quay lại\r\n        </Button>\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          Đăng ký khuôn mặt\r\n        </Typography>\r\n        <Typography variant=\"subtitle1\" color=\"text.secondary\">\r\n          Đăng ký khuôn mặt của bạn để sử dụng tính năng điểm danh tự động\r\n        </Typography>\r\n      </Box>\r\n\r\n      <Paper\r\n        sx={{\r\n          p: { xs: 2, md: 3 },\r\n          maxWidth: 1200,\r\n          mx: \"auto\",\r\n          overflow: \"hidden\",\r\n        }}\r\n      >\r\n        {isLoading ? (\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              py: 8,\r\n            }}\r\n          >\r\n            <CircularProgress />\r\n            <Typography variant=\"h6\" sx={{ ml: 2 }}>\r\n              Đang tải...\r\n            </Typography>\r\n          </Box>\r\n        ) : (\r\n          <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n            {steps.map((step, index) => (\r\n              <Step key={step.label}>\r\n                <StepLabel>\r\n                  <Typography variant=\"subtitle1\">{step.label}</Typography>\r\n                </StepLabel>\r\n                <StepContent>\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    color=\"text.secondary\"\r\n                    sx={{ mb: 2 }}\r\n                  >\r\n                    {step.description}\r\n                  </Typography>\r\n                  {step.content}\r\n                </StepContent>\r\n              </Step>\r\n            ))}\r\n          </Stepper>\r\n        )}\r\n      </Paper>\r\n\r\n      {/* Dialog hướng dẫn chi tiết */}\r\n      <Dialog\r\n        open={showHelpDialog}\r\n        onClose={() => setShowHelpDialog(false)}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>Hướng dẫn đăng ký khuôn mặt chi tiết</DialogTitle>\r\n        <DialogContent>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            Các bước đăng ký khuôn mặt:\r\n          </Typography>\r\n          <List>\r\n            <ListItem>\r\n              <ListItemIcon>\r\n                <Check />\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                primary=\"Bước 1: Chuẩn bị\"\r\n                secondary=\"Đảm bảo bạn đang ở nơi có ánh sáng tốt và camera hoạt động bình thường.\"\r\n              />\r\n            </ListItem>\r\n            <ListItem>\r\n              <ListItemIcon>\r\n                <Camera />\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                primary=\"Bước 2: Chụp ảnh khuôn mặt\"\r\n                secondary=\"Chụp 5 ảnh khuôn mặt ở các góc độ khác nhau.\"\r\n              />\r\n            </ListItem>\r\n            <ListItem>\r\n              <ListItemIcon>\r\n                <ViewArray />\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                primary=\"Bước 3: Xác nhận thông tin\"\r\n                secondary=\"Xem lại thông tin và ảnh đã chụp.\"\r\n              />\r\n            </ListItem>\r\n            <ListItem>\r\n              <ListItemIcon>\r\n                <SaveAlt />\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                primary=\"Bước 4: Hoàn tất đăng ký\"\r\n                secondary=\"Hoàn tất quá trình đăng ký khuôn mặt.\"\r\n              />\r\n            </ListItem>\r\n          </List>\r\n\r\n          <Typography variant=\"h6\" gutterBottom sx={{ mt: 2 }}>\r\n            Lưu ý khi chụp ảnh:\r\n          </Typography>\r\n          <List>\r\n            <ListItem>\r\n              <ListItemIcon>\r\n                <Info />\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                primary=\"Ánh sáng\"\r\n                secondary=\"Đảm bảo khuôn mặt được chiếu sáng tốt, tránh ngược sáng.\"\r\n              />\r\n            </ListItem>\r\n            <ListItem>\r\n              <ListItemIcon>\r\n                <Info />\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                primary=\"Góc độ\"\r\n                secondary=\"Chụp ở các góc độ khác nhau: nhìn thẳng, nghiêng trái, nghiêng phải, hơi ngước lên, hơi cúi xuống.\"\r\n              />\r\n            </ListItem>\r\n            <ListItem>\r\n              <ListItemIcon>\r\n                <Info />\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                primary=\"Phụ kiện\"\r\n                secondary=\"Không đeo kính, mũ, khẩu trang hoặc bất kỳ vật che khuôn mặt nào.\"\r\n              />\r\n            </ListItem>\r\n            <ListItem>\r\n              <ListItemIcon>\r\n                <Info />\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                primary=\"Khoảng cách\"\r\n                secondary=\"Giữ khuôn mặt ở khoảng cách vừa phải, chiếm khoảng 70% khung hình.\"\r\n              />\r\n            </ListItem>\r\n          </List>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setShowHelpDialog(false)}>Đóng</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default FaceRegistrationPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}