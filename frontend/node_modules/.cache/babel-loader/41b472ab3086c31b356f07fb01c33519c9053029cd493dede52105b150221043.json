{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kasiz\\\\Documents\\\\Studying\\\\FaceReg\\\\frontend\\\\src\\\\components\\\\FaceRegistrationComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, lazy, Suspense } from \"react\";\nimport { useSnackbar } from \"notistack\";\nimport { Box, Typography, Button, CircularProgress, Alert, Card, CardContent } from \"@mui/material\";\nimport { Camera, CheckCircle, Error } from \"@mui/icons-material\";\nimport { loadModels, detectFace } from \"../utils/faceUtils\";\n\n// Lazy load Webcam\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Webcam = /*#__PURE__*/lazy(_c = () => import(\"react-webcam\"));\n_c2 = Webcam;\nconst FaceRegistrationComponent = ({\n  onFaceDataCapture,\n  maxImages = 3\n}) => {\n  _s();\n  var _webcamRef$current2, _webcamRef$current2$v;\n  // Refs\n  const webcamRef = useRef(null);\n\n  // State\n  const [isLoading, setIsLoading] = useState(false);\n  const [modelsLoaded, setModelsLoaded] = useState(false);\n  const [isCameraReady, setIsCameraReady] = useState(false);\n  const [capturedImages, setCapturedImages] = useState([]);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState(\"\");\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n\n  // Load face recognition models\n  useEffect(() => {\n    const initModels = async () => {\n      try {\n        setIsLoading(true);\n        await loadModels();\n        setModelsLoaded(true);\n        enqueueSnackbar(\"Đã tải mô hình nhận diện khuôn mặt\", {\n          variant: \"success\"\n        });\n      } catch (error) {\n        console.error(\"Lỗi khi tải mô hình:\", error);\n        setError(\"Không thể tải mô hình nhận diện khuôn mặt. Vui lòng tải lại trang.\");\n        enqueueSnackbar(\"Lỗi khi tải mô hình nhận diện\", {\n          variant: \"error\"\n        });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    initModels();\n  }, [enqueueSnackbar]);\n\n  // Check if camera is ready\n  useEffect(() => {\n    var _webcamRef$current, _webcamRef$current$vi;\n    if (((_webcamRef$current = webcamRef.current) === null || _webcamRef$current === void 0 ? void 0 : (_webcamRef$current$vi = _webcamRef$current.video) === null || _webcamRef$current$vi === void 0 ? void 0 : _webcamRef$current$vi.readyState) === 4) {\n      setIsCameraReady(true);\n    }\n  }, [(_webcamRef$current2 = webcamRef.current) === null || _webcamRef$current2 === void 0 ? void 0 : (_webcamRef$current2$v = _webcamRef$current2.video) === null || _webcamRef$current2$v === void 0 ? void 0 : _webcamRef$current2$v.readyState]);\n\n  // Capture and detect face\n  const captureImage = async () => {\n    if (!webcamRef.current || !isCameraReady) {\n      enqueueSnackbar(\"Camera chưa sẵn sàng, vui lòng thử lại\", {\n        variant: \"warning\"\n      });\n      return;\n    }\n    try {\n      setIsProcessing(true);\n      // Capture image\n      const imageSrc = webcamRef.current.getScreenshot();\n      if (!imageSrc) {\n        enqueueSnackbar(\"Không thể chụp ảnh, vui lòng thử lại\", {\n          variant: \"error\"\n        });\n        setIsProcessing(false);\n        return;\n      }\n\n      // Detect face\n      const detections = await detectFace(imageSrc);\n      if (!detections) {\n        enqueueSnackbar(\"Không phát hiện được khuôn mặt, vui lòng thử lại và đảm bảo khuôn mặt của bạn nằm trong khung hình\", {\n          variant: \"warning\"\n        });\n        setIsProcessing(false);\n        return;\n      }\n\n      // Save image and face info\n      const newImage = {\n        img: imageSrc,\n        descriptor: Array.from(detections.descriptor)\n      };\n      setCapturedImages(prev => [...prev, newImage]);\n      enqueueSnackbar(`Đã chụp ảnh ${capturedImages.length + 1}/${maxImages}`, {\n        variant: \"success\"\n      });\n\n      // If enough images, pass data to parent\n      if (capturedImages.length + 1 >= maxImages) {\n        onFaceDataCapture([...capturedImages, newImage]);\n      }\n    } catch (error) {\n      console.error(\"Lỗi khi chụp ảnh:\", error);\n      enqueueSnackbar(\"Đã xảy ra lỗi khi chụp ảnh\", {\n        variant: \"error\"\n      });\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const resetCapture = () => {\n    setCapturedImages([]);\n  };\n\n  // Webcam config\n  const videoConstraints = {\n    width: 320,\n    height: 320,\n    facingMode: \"user\"\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    variant: \"outlined\",\n    sx: {\n      mb: 3\n    },\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        children: \"\\u0110\\u0103ng k\\xFD khu\\xF4n m\\u1EB7t\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          paragraph: true,\n          children: [\"Vui l\\xF2ng ch\\u1EE5p \", maxImages, \" \\u1EA3nh khu\\xF4n m\\u1EB7t c\\u1EE7a b\\u1EA1n t\\u1EEB c\\xE1c g\\xF3c kh\\xE1c nhau \\u0111\\u1EC3 h\\u1EC7 th\\u1ED1ng nh\\u1EADn di\\u1EC7n t\\u1ED1t h\\u01A1n.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"info\",\n          sx: {\n            mb: 2\n          },\n          children: [\"\\u0110\\xE3 ch\\u1EE5p: \", capturedImages.length, \"/\", maxImages, \" \\u1EA3nh\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          mb: 2\n        },\n        children: isLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Suspense, {\n          fallback: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 33\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              border: \"2px solid #ddd\",\n              borderRadius: 2,\n              overflow: \"hidden\",\n              width: 320,\n              height: 320,\n              position: \"relative\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Webcam, {\n              audio: false,\n              ref: webcamRef,\n              screenshotFormat: \"image/jpeg\",\n              videoConstraints: videoConstraints,\n              style: {\n                width: \"100%\",\n                height: \"100%\"\n              },\n              onUserMedia: () => setIsCameraReady(true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this), capturedImages.length >= maxImages && /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                position: \"absolute\",\n                top: 0,\n                left: 0,\n                width: \"100%\",\n                height: \"100%\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                backgroundColor: \"rgba(0, 0, 0, 0.6)\"\n              },\n              children: /*#__PURE__*/_jsxDEV(CheckCircle, {\n                color: \"success\",\n                sx: {\n                  fontSize: 48,\n                  color: \"#4caf50\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          gap: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(Camera, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 24\n          }, this),\n          disabled: isProcessing || !modelsLoaded || !isCameraReady || capturedImages.length >= maxImages,\n          onClick: captureImage,\n          children: isProcessing ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 24,\n            color: \"inherit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this) : \"Chụp ảnh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: resetCapture,\n          disabled: isProcessing || capturedImages.length === 0,\n          children: \"Ch\\u1EE5p l\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), capturedImages.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2,\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          gap: 1\n        },\n        children: capturedImages.map((img, index) => /*#__PURE__*/_jsxDEV(Box, {\n          component: \"img\",\n          src: img.img,\n          alt: `Captured ${index + 1}`,\n          sx: {\n            width: 80,\n            height: 80,\n            objectFit: \"cover\",\n            borderRadius: 1\n          }\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n_s(FaceRegistrationComponent, \"MxqlOooow4FACTirI5oB2WTo+f0=\", false, function () {\n  return [useSnackbar];\n});\n_c3 = FaceRegistrationComponent;\nexport default FaceRegistrationComponent;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Webcam$lazy\");\n$RefreshReg$(_c2, \"Webcam\");\n$RefreshReg$(_c3, \"FaceRegistrationComponent\");","map":{"version":3,"names":["React","useState","useEffect","useRef","lazy","Suspense","useSnackbar","Box","Typography","Button","CircularProgress","Alert","Card","CardContent","Camera","CheckCircle","Error","loadModels","detectFace","jsxDEV","_jsxDEV","Webcam","_c","_c2","FaceRegistrationComponent","onFaceDataCapture","maxImages","_s","_webcamRef$current2","_webcamRef$current2$v","webcamRef","isLoading","setIsLoading","modelsLoaded","setModelsLoaded","isCameraReady","setIsCameraReady","capturedImages","setCapturedImages","isProcessing","setIsProcessing","error","setError","enqueueSnackbar","initModels","variant","console","_webcamRef$current","_webcamRef$current$vi","current","video","readyState","captureImage","imageSrc","getScreenshot","detections","newImage","img","descriptor","Array","from","prev","length","resetCapture","videoConstraints","width","height","facingMode","sx","mb","children","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","severity","color","paragraph","display","flexDirection","alignItems","justifyContent","fallback","border","borderRadius","overflow","position","audio","ref","screenshotFormat","style","onUserMedia","top","left","backgroundColor","fontSize","gap","startIcon","disabled","onClick","size","mt","flexWrap","map","index","component","src","alt","objectFit","_c3","$RefreshReg$"],"sources":["C:/Users/kasiz/Documents/Studying/FaceReg/frontend/src/components/FaceRegistrationComponent.js"],"sourcesContent":["import React, { useState, useEffect, useRef, lazy, Suspense } from \"react\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  CircularProgress,\r\n  Alert,\r\n  Card,\r\n  CardContent,\r\n} from \"@mui/material\";\r\nimport { Camera, CheckCircle, Error } from \"@mui/icons-material\";\r\nimport { loadModels, detectFace } from \"../utils/faceUtils\";\r\n\r\n// Lazy load Webcam\r\nconst Webcam = lazy(() => import(\"react-webcam\"));\r\n\r\nconst FaceRegistrationComponent = ({ onFaceDataCapture, maxImages = 3 }) => {\r\n  // Refs\r\n  const webcamRef = useRef(null);\r\n\r\n  // State\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [modelsLoaded, setModelsLoaded] = useState(false);\r\n  const [isCameraReady, setIsCameraReady] = useState(false);\r\n  const [capturedImages, setCapturedImages] = useState([]);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  // Load face recognition models\r\n  useEffect(() => {\r\n    const initModels = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        await loadModels();\r\n        setModelsLoaded(true);\r\n        enqueueSnackbar(\"Đã tải mô hình nhận diện khuôn mặt\", {\r\n          variant: \"success\",\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Lỗi khi tải mô hình:\", error);\r\n        setError(\r\n          \"Không thể tải mô hình nhận diện khuôn mặt. Vui lòng tải lại trang.\"\r\n        );\r\n        enqueueSnackbar(\"Lỗi khi tải mô hình nhận diện\", {\r\n          variant: \"error\",\r\n        });\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    initModels();\r\n  }, [enqueueSnackbar]);\r\n\r\n  // Check if camera is ready\r\n  useEffect(() => {\r\n    if (webcamRef.current?.video?.readyState === 4) {\r\n      setIsCameraReady(true);\r\n    }\r\n  }, [webcamRef.current?.video?.readyState]);\r\n\r\n  // Capture and detect face\r\n  const captureImage = async () => {\r\n    if (!webcamRef.current || !isCameraReady) {\r\n      enqueueSnackbar(\"Camera chưa sẵn sàng, vui lòng thử lại\", {\r\n        variant: \"warning\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsProcessing(true);\r\n      // Capture image\r\n      const imageSrc = webcamRef.current.getScreenshot();\r\n      if (!imageSrc) {\r\n        enqueueSnackbar(\"Không thể chụp ảnh, vui lòng thử lại\", {\r\n          variant: \"error\",\r\n        });\r\n        setIsProcessing(false);\r\n        return;\r\n      }\r\n\r\n      // Detect face\r\n      const detections = await detectFace(imageSrc);\r\n\r\n      if (!detections) {\r\n        enqueueSnackbar(\r\n          \"Không phát hiện được khuôn mặt, vui lòng thử lại và đảm bảo khuôn mặt của bạn nằm trong khung hình\",\r\n          { variant: \"warning\" }\r\n        );\r\n        setIsProcessing(false);\r\n        return;\r\n      }\r\n\r\n      // Save image and face info\r\n      const newImage = {\r\n        img: imageSrc,\r\n        descriptor: Array.from(detections.descriptor),\r\n      };\r\n\r\n      setCapturedImages((prev) => [...prev, newImage]);\r\n\r\n      enqueueSnackbar(`Đã chụp ảnh ${capturedImages.length + 1}/${maxImages}`, {\r\n        variant: \"success\",\r\n      });\r\n\r\n      // If enough images, pass data to parent\r\n      if (capturedImages.length + 1 >= maxImages) {\r\n        onFaceDataCapture([...capturedImages, newImage]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Lỗi khi chụp ảnh:\", error);\r\n      enqueueSnackbar(\"Đã xảy ra lỗi khi chụp ảnh\", { variant: \"error\" });\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const resetCapture = () => {\r\n    setCapturedImages([]);\r\n  };\r\n\r\n  // Webcam config\r\n  const videoConstraints = {\r\n    width: 320,\r\n    height: 320,\r\n    facingMode: \"user\",\r\n  };\r\n\r\n  return (\r\n    <Card variant=\"outlined\" sx={{ mb: 3 }}>\r\n      <CardContent>\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          Đăng ký khuôn mặt\r\n        </Typography>\r\n\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        <Box sx={{ mb: 2 }}>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\r\n            Vui lòng chụp {maxImages} ảnh khuôn mặt của bạn từ các góc khác nhau\r\n            để hệ thống nhận diện tốt hơn.\r\n          </Typography>\r\n\r\n          <Alert severity=\"info\" sx={{ mb: 2 }}>\r\n            Đã chụp: {capturedImages.length}/{maxImages} ảnh\r\n          </Alert>\r\n        </Box>\r\n\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            mb: 2,\r\n          }}\r\n        >\r\n          {isLoading ? (\r\n            <CircularProgress />\r\n          ) : (\r\n            <Suspense fallback={<CircularProgress />}>\r\n              <Box\r\n                sx={{\r\n                  border: \"2px solid #ddd\",\r\n                  borderRadius: 2,\r\n                  overflow: \"hidden\",\r\n                  width: 320,\r\n                  height: 320,\r\n                  position: \"relative\",\r\n                }}\r\n              >\r\n                <Webcam\r\n                  audio={false}\r\n                  ref={webcamRef}\r\n                  screenshotFormat=\"image/jpeg\"\r\n                  videoConstraints={videoConstraints}\r\n                  style={{ width: \"100%\", height: \"100%\" }}\r\n                  onUserMedia={() => setIsCameraReady(true)}\r\n                />\r\n                {capturedImages.length >= maxImages && (\r\n                  <Box\r\n                    sx={{\r\n                      position: \"absolute\",\r\n                      top: 0,\r\n                      left: 0,\r\n                      width: \"100%\",\r\n                      height: \"100%\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                      backgroundColor: \"rgba(0, 0, 0, 0.6)\",\r\n                    }}\r\n                  >\r\n                    <CheckCircle\r\n                      color=\"success\"\r\n                      sx={{ fontSize: 48, color: \"#4caf50\" }}\r\n                    />\r\n                  </Box>\r\n                )}\r\n              </Box>\r\n            </Suspense>\r\n          )}\r\n        </Box>\r\n\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            gap: 2,\r\n          }}\r\n        >\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<Camera />}\r\n            disabled={\r\n              isProcessing ||\r\n              !modelsLoaded ||\r\n              !isCameraReady ||\r\n              capturedImages.length >= maxImages\r\n            }\r\n            onClick={captureImage}\r\n          >\r\n            {isProcessing ? (\r\n              <CircularProgress size={24} color=\"inherit\" />\r\n            ) : (\r\n              \"Chụp ảnh\"\r\n            )}\r\n          </Button>\r\n\r\n          <Button\r\n            variant=\"outlined\"\r\n            onClick={resetCapture}\r\n            disabled={isProcessing || capturedImages.length === 0}\r\n          >\r\n            Chụp lại\r\n          </Button>\r\n        </Box>\r\n\r\n        {capturedImages.length > 0 && (\r\n          <Box sx={{ mt: 2, display: \"flex\", flexWrap: \"wrap\", gap: 1 }}>\r\n            {capturedImages.map((img, index) => (\r\n              <Box\r\n                key={index}\r\n                component=\"img\"\r\n                src={img.img}\r\n                alt={`Captured ${index + 1}`}\r\n                sx={{\r\n                  width: 80,\r\n                  height: 80,\r\n                  objectFit: \"cover\",\r\n                  borderRadius: 1,\r\n                }}\r\n              />\r\n            ))}\r\n          </Box>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default FaceRegistrationComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}